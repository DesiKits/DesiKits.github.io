!function(){try{var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e=(new Error).stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="89216705-a116-49e9-9a6e-98eac228af68",t._sentryDebugIdIdentifier="sentry-dbid-89216705-a116-49e9-9a6e-98eac228af68")}catch(t){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"0cdd66916d64fcb52affc6a655735abc06b45145"},(self.webpackChunk=self.webpackChunk||[]).push([[626],{37626:function(t,e,n){n.d(e,{Qh:function(){return Jt},IH:function(){return zt}});var a=n(98828),r=n(80751),i=n(50851),s=n(59675),o=n(32562);function c(t){if("boolean"===typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const e=t||function(){const t=(0,i.KU)();return t&&t.getOptions()}();return!!e&&(e.enableTracing||"tracesSampleRate"in e||"tracesSampler"in e)}var u=n(68530),d=n(87835),p=n(35545),l=n(52925);var m=n(75294);var f=n(56349);class h{constructor(t={}){this._traceId=t.traceId||(0,f.eJ)(),this._spanId=t.spanId||(0,f.eJ)().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:a.CC}}end(t){}setAttribute(t,e){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,e,n){return this}}var g=n(93320),v=n(10258),_=n(39279),T=n(93460);function b(t){if(!t||0===t.length)return;const e={};return t.forEach((t=>{const n=t.attributes||{},a=n[o.Sn],r=n[o.xc];"string"===typeof a&&"number"===typeof r&&(e[t.name]={value:r,unit:a})})),e}const S="_sentryScope",y="_sentryIsolationScope";function k(t){return{scope:t[S],isolationScope:t[y]}}class I{constructor(t={}){this._traceId=t.traceId||(0,f.eJ)(),this._spanId=t.spanId||(0,f.eJ)().substring(16),this._startTime=t.startTimestamp||(0,g.zf)(),this._attributes={},this.setAttributes({[o.JD]:"manual",[o.uT]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}spanContext(){const{_spanId:t,_traceId:e,_sampled:n}=this;return{spanId:t,traceId:e,traceFlags:n?a.aO:a.CC}}setAttribute(t,e){void 0===e?delete this._attributes[t]:this._attributes[t]=e}setAttributes(t){Object.keys(t).forEach((e=>this.setAttribute(e,t[e])))}updateStartTime(t){this._startTime=(0,a.cI)(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this}end(t){this._endTime||(this._endTime=(0,a.cI)(t),function(t){if(!l.T)return;const{description:e="< unknown name >",op:n="< unknown op >"}=(0,a.et)(t),{spanId:r}=t.spanContext(),i=`[Tracing] Finishing "${n}" ${(0,a.zU)(t)===t?"root ":""}span "${e}" with ID ${r}`;p.vF.log(i)}(this),this._onSpanEnded())}getSpanJSON(){return(0,v.Ce)({data:this._attributes,description:this._name,op:this._attributes[o.uT],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:(0,a.yW)(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[o.JD],_metrics_summary:(0,T.g)(this),profile_id:this._attributes[o.E1],exclusive_time:this._attributes[o.jG],measurements:b(this._events),is_segment:this._isStandaloneSpan&&(0,a.zU)(this)===this||void 0,segment_id:this._isStandaloneSpan?(0,a.zU)(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,e,n){l.T&&p.vF.log("[Tracing] Adding an event to span:",t);const r=w(e)?e:n||(0,g.zf)(),i=w(e)?{}:e||{},s={name:t,time:(0,a.cI)(r),attributes:i};return this._events.push(s),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=(0,i.KU)();t&&t.emit("spanEnd",this);if(!(this._isStandaloneSpan||this===(0,a.zU)(this)))return;if(this._isStandaloneSpan)return void function(t){const e=(0,i.KU)();if(!e)return;const n=t[1];if(!n||0===n.length)return void e.recordDroppedEvent("before_send","span");const a=e.getTransport();a&&a.send(t).then(null,(t=>{l.T&&p.vF.error("Error while sending span:",t)}))}((0,_.lu)([this],t));const e=this._convertSpanToTransaction();if(e){(k(this).scope||(0,i.o5)()).captureEvent(e)}}_convertSpanToTransaction(){if(!F((0,a.et)(this)))return;this._name||(l.T&&p.vF.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:e}=k(this),n=(t||(0,i.o5)()).getClient()||(0,i.KU)();if(!0!==this._sampled)return l.T&&p.vF.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(n&&n.recordDroppedEvent("sample_rate","transaction"));const r=(0,a.xO)(this).filter((t=>t!==this&&!function(t){return t instanceof I&&t.isStandaloneSpan()}(t))).map((t=>(0,a.et)(t))).filter(F),s=this._attributes[o.i_],c={contexts:{trace:(0,a.Ck)(this)},spans:r,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:e,...(0,v.Ce)({dynamicSamplingContext:(0,d.k1)(this)})},_metrics_summary:(0,T.g)(this),...s&&{transaction_info:{source:s}}},u=b(this._events);return u&&Object.keys(u).length&&(l.T&&p.vF.log("[Measurements] Adding measurements to transaction",JSON.stringify(u,void 0,2)),c.measurements=u),c}}function w(t){return t&&"number"===typeof t||t instanceof Date||Array.isArray(t)}function F(t){return!!t.start_timestamp&&!!t.timestamp&&!!t.span_id&&!!t.trace_id}const E="__SENTRY_SUPPRESS_TRACING__";function x(t){const e=D();if(e.startInactiveSpan)return e.startInactiveSpan(t);const n=A(t),a=t.scope||(0,i.o5)(),r=$(a);return t.onlyIfParent&&!r?new h:C({parentSpan:r,spanContext:n,forceTransaction:t.forceTransaction,scope:a})}function C({parentSpan:t,spanContext:e,forceTransaction:n,scope:r}){if(!c())return new h;const s=(0,i.rm)();let o;if(t&&!n)o=function(t,e,n){const{spanId:r,traceId:s}=t.spanContext(),o=!e.getScopeData().sdkProcessingMetadata[E]&&(0,a.pK)(t),c=o?new I({...n,parentSpanId:r,traceId:s,sampled:o}):new h({traceId:s});(0,a.Hu)(t,c);const u=(0,i.KU)();u&&(u.emit("spanStart",c),n.endTimestamp&&u.emit("spanEnd",c));return c}(t,r,e),(0,a.Hu)(t,o);else if(t){const n=(0,d.k1)(t),{traceId:i,spanId:s}=t.spanContext(),c=(0,a.pK)(t);o=P({traceId:i,parentSpanId:s,...e},r,c),(0,d.LZ)(o,n)}else{const{traceId:t,dsc:n,parentSpanId:a,sampled:i}={...s.getPropagationContext(),...r.getPropagationContext()};o=P({traceId:t,parentSpanId:a,...e},r,i),n&&(0,d.LZ)(o,n)}return function(t){if(!l.T)return;const{description:e="< unknown name >",op:n="< unknown op >",parent_span_id:r}=(0,a.et)(t),{spanId:i}=t.spanContext(),s=(0,a.pK)(t),o=(0,a.zU)(t),c=o===t,u=`[Tracing] Starting ${s?"sampled":"unsampled"} ${c?"root ":""}span`,d=[`op: ${n}`,`name: ${e}`,`ID: ${i}`];if(r&&d.push(`parent ID: ${r}`),!c){const{op:t,description:e}=(0,a.et)(o);d.push(`root ID: ${o.spanContext().spanId}`),t&&d.push(`root op: ${t}`),e&&d.push(`root description: ${e}`)}p.vF.log(`${u}\n  ${d.join("\n  ")}`)}(o),function(t,e,n){t&&((0,v.my)(t,y,n),(0,v.my)(t,S,e))}(o,r,s),o}function A(t){const e={isStandalone:(t.experimental||{}).standalone,...t};if(t.startTime){const n={...e};return n.startTimestamp=(0,a.cI)(t.startTime),delete n.startTime,n}return e}function D(){const t=(0,r.E)();return(0,s.h)(t)}function P(t,e,n){const a=(0,i.KU)(),r=a&&a.getOptions()||{},{name:s="",attributes:u}=t,[d,f]=e.getScopeData().sdkProcessingMetadata[E]?[!1]:function(t,e){if(!c(t))return[!1];let n;n="function"===typeof t.tracesSampler?t.tracesSampler(e):void 0!==e.parentSampled?e.parentSampled:"undefined"!==typeof t.tracesSampleRate?t.tracesSampleRate:1;const a=(0,m.i)(n);return void 0===a?(l.T&&p.vF.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):a?Math.random()<a?[!0,a]:(l.T&&p.vF.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),[!1,a]):(l.T&&p.vF.log("[Tracing] Discarding transaction because "+("function"===typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),[!1,a])}(r,{name:s,parentSampled:n,attributes:u,transactionContext:{name:s,parentSampled:n}}),h=new I({...t,attributes:{[o.i_]:"custom",...t.attributes},sampled:d});return void 0!==f&&h.setAttribute(o.sy,f),a&&a.emit("spanStart",h),h}function $(t){const e=(0,u.f)(t);if(!e)return;const n=(0,i.KU)();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?(0,a.zU)(e):e}var R=n(44489),N=n(78592),j=n(50246),U=n(17453),J=n(22012);function L(t){return"number"===typeof t&&isFinite(t)}function M(t,e,n,{...r}){const s=(0,a.et)(t).start_timestamp;return s&&s>e&&"function"===typeof t.updateStartTime&&t.updateStartTime(e),function(t,e){const n=D();return n.withActiveSpan?n.withActiveSpan(t,e):(0,i.v4)((n=>((0,u.r)(n,t||void 0),e(n))))}(t,(()=>{const t=x({startTime:e,...r});return t&&t.end(n),t}))}function z(){return U.j&&U.j.addEventListener&&U.j.performance}function H(t){return t/1e3}var q=n(63475),B=n(48949);const O=2147483647;let K,X,G=0,Y={};function Q(){const t=z();if(t&&g.k3){t.mark&&U.j.performance.mark("sentry-tracing-init");const e=(0,J.T5)((({metric:t})=>{const e=t.entries[t.entries.length-1];if(!e)return;const n=H(g.k3),a=H(e.startTime);j.T&&p.vF.log("[Measurements] Adding FID"),Y.fid={value:t.value,unit:"millisecond"},Y["mark.fid"]={value:n+a,unit:"second"}})),n=(0,J.a9)((({metric:t})=>{const e=t.entries[t.entries.length-1];e&&(j.T&&p.vF.log("[Measurements] Adding CLS"),Y.cls={value:t.value,unit:""},X=e)}),!0),a=(0,J.Pt)((({metric:t})=>{const e=t.entries[t.entries.length-1];e&&(j.T&&p.vF.log("[Measurements] Adding LCP"),Y.lcp={value:t.value,unit:"millisecond"},K=e)}),!0),r=(0,J.YG)((({metric:t})=>{t.entries[t.entries.length-1]&&(j.T&&p.vF.log("[Measurements] Adding TTFB"),Y.ttfb={value:t.value,unit:"millisecond"})}));return()=>{e(),n(),a(),r()}}return()=>{}}function W(t){const e=z();if(!e||!U.j.performance.getEntries||!g.k3)return;j.T&&p.vF.log("[Tracing] Adding & adjusting spans using Performance API");const n=H(g.k3),r=e.getEntries(),{op:i,start_timestamp:s}=(0,a.et)(t);if(r.slice(G).forEach((e=>{const a=H(e.startTime),r=H(e.duration);if(!("navigation"===i&&s&&n+a<s))switch(e.entryType){case"navigation":!function(t,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((a=>{Z(t,e,a,n)})),Z(t,e,"secureConnection",n,"TLS/SSL","connectEnd"),Z(t,e,"fetch",n,"cache","domainLookupStart"),Z(t,e,"domainLookup",n,"DNS"),function(t,e,n){e.responseEnd&&(M(t,n+H(e.requestStart),n+H(e.responseEnd),{op:"browser",name:"request",attributes:{[o.JD]:"auto.ui.browser.metrics"}}),M(t,n+H(e.responseStart),n+H(e.responseEnd),{op:"browser",name:"response",attributes:{[o.JD]:"auto.ui.browser.metrics"}}))}(t,e,n)}(t,e,n);break;case"mark":case"paint":case"measure":{!function(t,e,n,a,r){const i=r+n,s=i+a;M(t,i,s,{name:e.name,op:e.entryType,attributes:{[o.JD]:"auto.resource.browser.metrics"}})}(t,e,a,r,n);const i=(0,B.N)(),s=e.startTime<i.firstHiddenTime;"first-paint"===e.name&&s&&(j.T&&p.vF.log("[Measurements] Adding FP"),Y.fp={value:e.startTime,unit:"millisecond"}),"first-contentful-paint"===e.name&&s&&(j.T&&p.vF.log("[Measurements] Adding FCP"),Y.fcp={value:e.startTime,unit:"millisecond"});break}case"resource":!function(t,e,n,a,r,i){if("xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType)return;const s=(0,N.Dl)(n),c={[o.JD]:"auto.resource.browser.metrics"};V(c,e,"transferSize","http.response_transfer_size"),V(c,e,"encodedBodySize","http.response_content_length"),V(c,e,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in e&&(c["resource.render_blocking_status"]=e.renderBlockingStatus);s.protocol&&(c["url.scheme"]=s.protocol.split(":").pop());s.host&&(c["server.address"]=s.host);c["url.same_origin"]=n.includes(U.j.location.origin);const u=i+a,d=u+r;M(t,u,d,{name:n.replace(U.j.location.origin,""),op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",attributes:c})}(t,e,e.name,a,r,n)}})),G=Math.max(r.length-1,0),function(t){const e=U.j.navigator;if(!e)return;const n=e.connection;n&&(n.effectiveType&&t.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&t.setAttribute("connectionType",n.type),L(n.rtt)&&(Y["connection.rtt"]={value:n.rtt,unit:"millisecond"}));L(e.deviceMemory)&&t.setAttribute("deviceMemory",`${e.deviceMemory} GB`);L(e.hardwareConcurrency)&&t.setAttribute("hardwareConcurrency",String(e.hardwareConcurrency))}(t),"pageload"===i){!function(t){const e=(0,q.z)();if(!e)return;const{responseStart:n,requestStart:a}=e;a<=n&&(j.T&&p.vF.log("[Measurements] Adding TTFB Request Time"),t["ttfb.requestTime"]={value:n-a,unit:"millisecond"})}(Y),["fcp","fp","lcp"].forEach((t=>{if(!Y[t]||!s||n>=s)return;const e=Y[t].value,a=n+H(e),r=Math.abs(1e3*(a-s)),i=r-e;j.T&&p.vF.log(`[Measurements] Normalized ${t} from ${e} to ${r} (${i})`),Y[t].value=r}));const e=Y["mark.fid"];e&&Y.fid&&(M(t,e.value,e.value+H(Y.fid.value),{name:"first input delay",op:"ui.action",attributes:{[o.JD]:"auto.ui.browser.metrics"}}),delete Y["mark.fid"]),"fcp"in Y||delete Y.cls,Object.keys(Y).forEach((t=>{!function(t,e,n){const r=(0,a.Bk)(),i=r&&(0,a.zU)(r);i&&i.addEvent(t,{[o.xc]:e,[o.Sn]:n})}(t,Y[t].value,Y[t].unit)})),function(t){K&&(j.T&&p.vF.log("[Measurements] Adding LCP Data"),K.element&&t.setAttribute("lcp.element",(0,R.Hd)(K.element)),K.id&&t.setAttribute("lcp.id",K.id),K.url&&t.setAttribute("lcp.url",K.url.trim().slice(0,200)),t.setAttribute("lcp.size",K.size));X&&X.sources&&(j.T&&p.vF.log("[Measurements] Adding CLS Data"),X.sources.forEach(((e,n)=>t.setAttribute(`cls.source.${n+1}`,(0,R.Hd)(e.node)))))}(t)}K=void 0,X=void 0,Y={}}function Z(t,e,n,a,r,i){const s=i?e[i]:e[`${n}End`],c=e[`${n}Start`];c&&s&&M(t,a+H(c),a+H(s),{op:"browser",name:r||n,attributes:{[o.JD]:"auto.ui.browser.metrics"}})}function V(t,e,n,a){const r=e[n];null!=r&&r<O&&(t[a]=r)}var tt=n(74222);function et(){if(z()&&g.k3){const t=(0,J.hT)((({metric:t})=>{const e=(0,i.KU)();if(!e||void 0==t.value)return;const n=t.entries.find((e=>e.duration===t.value&&nt[e.name]));if(!n)return;const r=nt[n.name],s=e.getOptions(),c=H(g.k3+n.startTime),u=H(t.value),d=(0,i.o5)(),p=(0,a.Bk)(),l=p?(0,a.zU)(p):void 0,m=l?(0,a.et)(l).description:void 0,f=d.getUser(),h=e.getIntegrationByName("Replay"),_=h&&h.getReplayId(),T=void 0!==f?f.email||f.id||f.ip_address:void 0,b=(0,tt.z)([d,"access",t=>t.getScopeData,"call",t=>t(),"access",t=>t.contexts,"optionalAccess",t=>t.profile,"optionalAccess",t=>t.profile_id]),S=x({name:(0,R.Hd)(n.target),op:`ui.interaction.${r}`,attributes:(0,v.Ce)({release:s.release,environment:s.environment,transaction:m,[o.jG]:t.value,user:T||void 0,profile_id:b||void 0,replay_id:_||void 0}),startTime:c,experimental:{standalone:!0}});S.addEvent("inp",{[o.Sn]:"millisecond",[o.xc]:t.value}),S.end(c+u)}));return()=>{t()}}return()=>{}}const nt={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};var at=n(88173),rt=n(96666);const it={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},st="heartbeatFailed",ot="idleTimeout",ct="finalTimeout",ut="externalFinish";function dt(t,e={}){const n=new Map;let r,s=!1,d=ut,m=!e.disableAutoFinish;const{idleTimeout:f=it.idleTimeout,finalTimeout:v=it.finalTimeout,childSpanTimeout:_=it.childSpanTimeout,beforeSpanEnd:T}=e,b=(0,i.KU)();if(!b||!c())return new h;const S=(0,i.o5)(),y=(0,a.Bk)(),k=function(t){const e=x(t);return(0,u.r)((0,i.o5)(),e),l.T&&p.vF.log("[Tracing] Started span is an idle span"),e}(t);function I(t=(0,g.zf)()){const e=(0,a.xO)(k).filter((t=>t!==k));if(!e.length)return void k.end(t);const n=e.map((t=>(0,a.et)(t).timestamp)).filter((t=>!!t)),r=n.length?Math.max(...n):void 0,i=(0,a.cI)(t),s=(0,a.et)(k).start_timestamp,o=Math.min(s?s+v/1e3:1/0,Math.max(s||-1/0,Math.min(i,r||1/0)));k.end(o)}function w(){r&&(clearTimeout(r),r=void 0)}function F(t){w(),r=setTimeout((()=>{!s&&0===n.size&&m&&(d=ot,I(t))}),f)}function E(t){r=setTimeout((()=>{!s&&m&&(d=st,I(t))}),_)}return b.on("spanStart",(t=>{if(s||t===k||(0,a.et)(t).timestamp)return;var e;(0,a.xO)(k).includes(t)&&(e=t.spanContext().spanId,w(),n.set(e,!0),E((0,g.zf)()+_/1e3))})),b.on("spanEnd",(t=>{var e;s||(e=t.spanContext().spanId,n.has(e)&&n.delete(e),0===n.size&&F((0,g.zf)()+f/1e3),t===k&&function(){s=!0,n.clear(),T&&T(k),(0,u.r)(S,y);const t=(0,a.et)(k),{timestamp:e,start_timestamp:r}=t;if(!e||!r)return;(t.data||{})[o.fs]||k.setAttribute(o.fs,d),p.vF.log(`[Tracing] Idle span "${t.op}" finished`);const i=(0,a.xO)(k).filter((t=>t!==k));let c=0;i.forEach((t=>{t.isRecording()&&(t.setStatus({code:rt.TJ,message:"cancelled"}),t.end(e),l.T&&p.vF.log("[Tracing] Cancelling span since span ended early",JSON.stringify(t,void 0,2)));const n=(0,a.et)(t),{timestamp:r=0,start_timestamp:i=0}=n,s=i<=e,o=r-i<(v+f)/1e3;if(l.T){const e=JSON.stringify(t,void 0,2);s?o||p.vF.log("[Tracing] Discarding span since it finished after idle span final timeout",e):p.vF.log("[Tracing] Discarding span since it happened after idle span was finished",e)}o&&s||((0,a.VS)(k,t),c++)})),c>0&&k.setAttribute("sentry.idle_span_discarded_spans",c)}())})),b.on("idleSpanEnableAutoFinish",(t=>{t===k&&(m=!0,F(),n.size&&E())})),e.disableAutoFinish||F(),setTimeout((()=>{s||(k.setStatus({code:rt.TJ,message:"deadline_exceeded"}),d=ct,I())}),v),k}var pt=n(57944),lt=n(94938);let mt=!1;function ft(){const t=(0,a.Bk)(),e=t&&(0,a.zU)(t);if(e){const t="internal_error";l.T&&p.vF.log(`[Tracing] Root span: ${t} -> Global error occured`),e.setStatus({code:rt.TJ,message:t})}}ft.tag="sentry_tracingErrorCallback";var ht=n(48815),gt=n(78650),vt=n(18401);var _t=n(39694),Tt=n(50623),bt=n(76985);function St(t,e,n,r,s="auto.http.browser"){if(!t.fetchData)return;const u=c()&&e(t.fetchData.url);if(t.endTimestamp&&u){const e=t.fetchData.__span;if(!e)return;const n=r[e];return void(n&&(!function(t,e){if(e.response){(0,rt.N8)(t,e.response.status);const n=e.response&&e.response.headers&&e.response.headers.get("content-length");if(n){const e=parseInt(n);e>0&&t.setAttribute("http.response_content_length",e)}}else e.error&&t.setStatus({code:rt.TJ,message:"internal_error"});t.end()}(n,t),delete r[e]))}const p=(0,i.o5)(),l=(0,i.KU)(),{method:m,url:f}=t.fetchData,g=function(t){try{return new URL(t).href}catch(e){return}}(f),v=g?(0,N.Dl)(g).host:void 0,_=!!(0,a.Bk)(),T=u&&_?x({name:`${m} ${f}`,attributes:{url:f,type:"fetch","http.method":m,"http.url":g,"server.address":v,[o.JD]:s,[o.uT]:"http.client"}}):new h;if(t.fetchData.__span=T.spanContext().spanId,r[T.spanContext().spanId]=T,n(t.fetchData.url)&&l){const e=t.args[0];t.args[1]=t.args[1]||{};const n=t.args[1];n.headers=function(t,e,n,r,s){const o=(0,i.rm)(),{traceId:c,spanId:u,sampled:p,dsc:l}={...o.getPropagationContext(),...n.getPropagationContext()},m=s?(0,a.Qh)(s):(0,ht.TC)(c,u,p),f=(0,Tt.De)(l||(s?(0,d.k1)(s):(0,d.lF)(c,e))),h=r.headers||("undefined"!==typeof Request&&(0,bt.tH)(t,Request)?t.headers:void 0);if(h){if("undefined"!==typeof Headers&&(0,bt.tH)(h,Headers)){const t=new Headers(h);return t.append("sentry-trace",m),f&&t.append(Tt.hF,f),t}if(Array.isArray(h)){const t=[...h,["sentry-trace",m]];return f&&t.push([Tt.hF,f]),t}{const t="baggage"in h?h.baggage:void 0,e=[];return Array.isArray(t)?e.push(...t):t&&e.push(t),f&&e.push(f),{...h,"sentry-trace":m,baggage:e.length>0?e.join(","):void 0}}}return{"sentry-trace":m,baggage:f}}(e,l,p,n,c()&&_?T:void 0)}return T}var yt=n(33163),kt=n(86336);const It={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0};function wt(t){const{traceFetch:e,traceXHR:n,shouldCreateSpanForRequest:r,enableHTTPTimings:s,tracePropagationTargets:u}={traceFetch:It.traceFetch,traceXHR:It.traceXHR,...t},p="function"===typeof r?r:t=>!0,l=t=>function(t,e){const n=vt.jf.location&&vt.jf.location.href;if(n){let r,i;try{r=new URL(t,n),i=new URL(n).origin}catch(a){return!1}const s=r.origin===i;return e?(0,kt.Xr)(r.toString(),e)||s&&(0,kt.Xr)(r.pathname,e):s}{const n=!!t.match(/^\/(?!\/)/);return e?(0,kt.Xr)(t,e):n}}(t,u),m={};e&&(0,yt.u)((t=>{const e=St(t,p,l,m);if(e){const n=xt(t.fetchData.url),a=n?(0,N.Dl)(n).host:void 0;e.setAttributes({"http.url":n,"server.address":a})}s&&e&&Ft(e)})),n&&(0,_t.Mn)((t=>{const e=function(t,e,n,r){const s=t.xhr,u=s&&s[_t.Er];if(!s||s.__sentry_own_request__||!u)return;const p=c()&&e(u.url);if(t.endTimestamp&&p){const t=s.__sentry_xhr_span_id__;if(!t)return;const e=r[t];return void(e&&void 0!==u.status_code&&((0,rt.N8)(e,u.status_code),e.end(),delete r[t]))}const l=xt(u.url),m=l?(0,N.Dl)(l).host:void 0,f=!!(0,a.Bk)(),g=p&&f?x({name:`${u.method} ${u.url}`,attributes:{type:"xhr","http.method":u.method,"http.url":l,url:u.url,"server.address":m,[o.JD]:"auto.http.browser",[o.uT]:"http.client"}}):new h;s.__sentry_xhr_span_id__=g.spanContext().spanId,r[s.__sentry_xhr_span_id__]=g;const v=(0,i.KU)();s.setRequestHeader&&n(u.url)&&v&&function(t,e,n){const r=(0,i.o5)(),s=(0,i.rm)(),{traceId:o,spanId:u,sampled:p,dsc:l}={...s.getPropagationContext(),...r.getPropagationContext()},m=n&&c()?(0,a.Qh)(n):(0,ht.TC)(o,u,p),f=(0,Tt.De)(l||(n?(0,d.k1)(n):(0,d.lF)(o,e)));!function(t,e,n){try{t.setRequestHeader("sentry-trace",e),n&&t.setRequestHeader(Tt.hF,n)}catch(a){}}(t,m,f)}(s,v,c()&&f?g:void 0);return g}(t,p,l,m);s&&e&&Ft(e)}))}function Ft(t){const{url:e}=(0,a.et)(t).data||{};if(!e||"string"!==typeof e)return;const n=(0,J.wv)("resource",(({entries:a})=>{a.forEach((a=>{if(function(t){return"resource"===t.entryType&&"initiatorType"in t&&"string"===typeof t.nextHopProtocol&&("fetch"===t.initiatorType||"xmlhttprequest"===t.initiatorType)}(a)&&a.name.endsWith(e)){(function(t){const{name:e,version:n}=function(t){let e="unknown",n="unknown",a="";for(const r of t){if("/"===r){[e,n]=t.split("/");break}if(!isNaN(Number(r))){e="h"===a?"http":a,n=t.split(a)[1];break}a+=r}a===t&&(e=a);return{name:e,version:n}}(t.nextHopProtocol),a=[];if(a.push(["network.protocol.version",n],["network.protocol.name",e]),!g.k3)return a;return[...a,["http.request.redirect_start",Et(t.redirectStart)],["http.request.fetch_start",Et(t.fetchStart)],["http.request.domain_lookup_start",Et(t.domainLookupStart)],["http.request.domain_lookup_end",Et(t.domainLookupEnd)],["http.request.connect_start",Et(t.connectStart)],["http.request.secure_connection_start",Et(t.secureConnectionStart)],["http.request.connection_end",Et(t.connectEnd)],["http.request.request_start",Et(t.requestStart)],["http.request.response_start",Et(t.responseStart)],["http.request.response_end",Et(t.responseEnd)]]})(a).forEach((e=>t.setAttribute(...e))),setTimeout(n)}}))}))}function Et(t=0){return((g.k3||performance.timeOrigin)+t)/1e3}function xt(t){try{return new URL(t,vt.jf.location.origin).href}catch(e){return}}const Ct={...it,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!0,_experiments:{},...It},At=(t={})=>{mt||(mt=!0,(0,pt.L)(ft),(0,lt.r)(ft));const{enableInp:e,enableLongTask:n,_experiments:{enableInteractions:r},beforeStartSpan:s,idleTimeout:c,finalTimeout:u,childSpanTimeout:l,markBackgroundSpan:m,traceFetch:f,traceXHR:h,shouldCreateSpanForRequest:v,enableHTTPTimings:_,instrumentPageLoad:T,instrumentNavigation:b}={...Ct,...t},S=Q();e&&et(),n&&(0,J.wv)("longtask",(({entries:t})=>{for(const e of t){if(!(0,a.Bk)())return;const t=H(g.k3+e.startTime),n=H(e.duration),r=x({name:"Main UI thread blocked",op:"ui.long-task",startTime:t,attributes:{[o.JD]:"auto.ui.browser.metrics"}});r&&r.end(t+n)}})),r&&(0,J.wv)("event",(({entries:t})=>{for(const e of t){if(!(0,a.Bk)())return;if("click"===e.name){const t=H(g.k3+e.startTime),n=H(e.duration),a={name:(0,R.Hd)(e.target),op:`ui.interaction.${e.name}`,startTime:t,attributes:{[o.JD]:"auto.ui.browser.metrics"}},r=(0,R.xE)(e.target);r&&(a.attributes["ui.component_name"]=r);const i=x(a);i&&i.end(t+n)}}}));const y={name:void 0,source:void 0};function k(t,e){const n="pageload"===e.op,a=s?s(e):e,r=a.attributes||{};e.name!==a.name&&(r[o.i_]="custom",a.attributes=r),y.name=a.name,y.source=r[o.i_];const i=dt(a,{idleTimeout:c,finalTimeout:u,childSpanTimeout:l,disableAutoFinish:n,beforeSpanEnd:t=>{S(),W(t)}});function d(){["interactive","complete"].includes(vt.jf.document.readyState)&&t.emit("idleSpanEnableAutoFinish",i)}return n&&vt.jf.document&&(vt.jf.document.addEventListener("readystatechange",(()=>{d()})),d()),i}return{name:"BrowserTracing",afterAllSetup(t){let e,n=vt.jf.location&&vt.jf.location.href;t.on("startNavigationSpan",(n=>{(0,i.KU)()===t&&(e&&(gt.T&&p.vF.log(`[Tracing] Finishing current root span with op: ${(0,a.et)(e).op}`),e.end()),e=k(t,{op:"navigation",...n}))})),t.on("startPageLoadSpan",((n,r={})=>{if((0,i.KU)()!==t)return;e&&(gt.T&&p.vF.log(`[Tracing] Finishing current root span with op: ${(0,a.et)(e).op}`),e.end());const s=r.sentryTrace||$t("sentry-trace"),o=r.baggage||$t("baggage"),c=(0,ht.kM)(s,o);(0,i.o5)().setPropagationContext(c),e=k(t,{op:"pageload",...n})})),t.on("spanEnd",(t=>{const e=(0,a.et)(t).op;if(t!==(0,a.zU)(t)||"navigation"!==e&&"pageload"!==e)return;const n=(0,i.o5)(),r=n.getPropagationContext();n.setPropagationContext({...r,sampled:void 0!==r.sampled?r.sampled:(0,a.pK)(t),dsc:r.dsc||(0,d.k1)(t)})})),vt.jf.location&&(T&&Dt(t,{name:vt.jf.location.pathname,startTime:g.k3?g.k3/1e3:void 0,attributes:{[o.i_]:"url",[o.JD]:"auto.pageload.browser"}}),b&&(0,at._)((({to:e,from:a})=>{void 0===a&&n&&-1!==n.indexOf(e)?n=void 0:a!==e&&(n=void 0,Pt(t,{name:vt.jf.location.pathname,attributes:{[o.i_]:"url",[o.JD]:"auto.navigation.browser"}}))}))),m&&(vt.jf&&vt.jf.document?vt.jf.document.addEventListener("visibilitychange",(()=>{const t=(0,a.Bk)();if(!t)return;const e=(0,a.zU)(t);if(vt.jf.document.hidden&&e){const t="cancelled",{op:n,status:r}=(0,a.et)(e);gt.T&&p.vF.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${n}`),r||e.setStatus({code:rt.TJ,message:t}),e.setAttribute("sentry.cancellation_reason","document.hidden"),e.end()}})):gt.T&&p.vF.warn("[Tracing] Could not set up background tab detection due to lack of global document")),r&&function(t,e,n,r){let i;const s=()=>{const s="ui.action.click",c=(0,a.Bk)(),u=c&&(0,a.zU)(c);if(u){const t=(0,a.et)(u).op;if(["navigation","pageload"].includes(t))return void(gt.T&&p.vF.warn(`[Tracing] Did not create ${s} span because a pageload or navigation span is in progress.`))}i&&(i.setAttribute(o.fs,"interactionInterrupted"),i.end(),i=void 0),r.name?i=dt({name:r.name,op:s,attributes:{[o.i_]:r.source||"url"}},{idleTimeout:t,finalTimeout:e,childSpanTimeout:n}):gt.T&&p.vF.warn(`[Tracing] Did not create ${s} transaction because _latestRouteName is missing.`)};vt.jf.document&&addEventListener("click",s,{once:!1,capture:!0})}(c,u,l,y),wt({traceFetch:f,traceXHR:h,tracePropagationTargets:t.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:v,enableHTTPTimings:_})}}};function Dt(t,e,n){t.emit("startPageLoadSpan",e,n),(0,i.o5)().setTransactionName(e.name);const r=(0,a.Bk)();return"pageload"===(r&&(0,a.et)(r).op)?r:void 0}function Pt(t,e){(0,i.o5)().setPropagationContext(Rt()),(0,i.rm)().setPropagationContext(Rt()),t.emit("startNavigationSpan",e),(0,i.o5)().setTransactionName(e.name);const n=(0,a.Bk)();return"navigation"===(n&&(0,a.et)(n).op)?n:void 0}function $t(t){const e=(0,R.NX)(`meta[name=${t}]`);return e?e.getAttribute("content"):void 0}function Rt(){return{traceId:(0,f.eJ)(),spanId:(0,f.eJ)().substring(16)}}var Nt=n(4146),jt=n(96540);const Ut="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/reactrouter.tsx";function Jt(t){const e=At({...t,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:a,matchPath:r,instrumentPageLoad:i=!0,instrumentNavigation:s=!0}=t;return{...e,afterAllSetup(t){e.afterAllSetup(t),Lt(t,i,s,n,"reactrouter_v5",a,r)}}}function Lt(t,e,n,a,r,i=[],s){function c(t){if(0===i.length||!s)return[t,"url"];const e=Mt(i,t,s);for(let n=0;n<e.length;n++)if(e[n].match.isExact)return[e[n].match.path,"route"];return[t,"url"]}if(e){const e=a&&a.location?a.location.pathname:vt.jf&&vt.jf.location?vt.jf.location.pathname:void 0;if(e){const[n,a]=c(e);Dt(t,{name:n,attributes:{[o.uT]:"pageload",[o.JD]:`auto.pageload.react.${r}`,[o.i_]:a}})}}n&&a.listen&&a.listen(((e,n)=>{if(n&&("PUSH"===n||"POP"===n)){const[n,a]=c(e.pathname);Pt(t,{name:n,attributes:{[o.uT]:"navigation",[o.JD]:`auto.navigation.react.${r}`,[o.i_]:a}})}}))}function Mt(t,e,n,a=[]){return t.some((t=>{const r=t.path?n(e,t):a.length?a[a.length-1].match:function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}}(e);return r&&(a.push({route:t,match:r}),t.routes&&Mt(t.routes,e,n,a)),!!r})),a}function zt(t){const e=t.displayName||t.name,n=e=>{if(e&&e.computedMatch&&e.computedMatch.isExact){const t=e.computedMatch.path,n=function(){const t=(0,a.Bk)(),e=t&&(0,a.zU)(t);if(!e)return;const n=(0,a.et)(e).op;return"navigation"===n||"pageload"===n?e:void 0}();(0,i.o5)().setTransactionName(t),n&&(n.updateName(t),n.setAttribute(o.i_,"route"))}return jt.createElement(t,{...e,__self:this,__source:{fileName:Ut,lineNumber:243}})};return n.displayName=`sentryRoute(${e})`,Nt(n,t),n}}}]);
//# sourceMappingURL=626-e4e0f21ff67ce1fc0155.js.map